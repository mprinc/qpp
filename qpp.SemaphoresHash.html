<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>QPP (Promises Augmentation & Patterns) Class: SemaphoresHash</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">QPP (Promises Augmentation & Patterns)</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="module-qpp.html">qpp</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="qpp.Semaphore.html">qpp.Semaphore</a></li><li><a href="qpp.SemaphoreMultiReservation.html">qpp.SemaphoreMultiReservation</a></li><li><a href="qpp.SemaphoresHash.html">qpp.SemaphoresHash</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="externals.list.html" class="dropdown-toggle" data-toggle="dropdown">Externals<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="external-Promise.html">Promise</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: SemaphoresHash</h1>
<section>

<header>
    
        <h2>
        SemaphoresHash
        </h2>
        
            <div class="class-description"><p>This is a class that provides promises enabled SemaphoresHashes.
It is possible to create a SemaphoresHash with a name and speciffic number of resources that we can wait for to get available, 
and release them when we do not need them anymore</p></div>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="SemaphoresHash"><span class="type-signature"></span>new SemaphoresHash(<span class="optional">name</span>, <span class="optional">resourcesNo</span>, <span class="optional">debug</span>)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Constructor function. Creates a new SemaphoresHash with optional and resources number</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "SemaphoresHash"
                
                </td>
            

            <td class="description last"><p>The name of the created SemaphoresHash</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resourcesNo</code></td>
            

            <td class="type">
            
                
<span class="param-type">number(integer)</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last"><p>The total numer of resources available</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>debug</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Defines if debugging messages should be shown during SemaphoresHash operations</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-401">line 401</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">// Example of two consumers
var QPP = require(&#x27;./..&#x27;);
var s = new QPP.SemaphoresHash(1);

// airplane (consumer) 1, waits for passangers to board
setTimeout(function(){
	s.wait() // allocating the resource (airstrip)
	.then(function(){ // resource is available, consuming resource
		console.log(&quot;Pilot 1: Yes! The airstrip is freee! We are the next one!&quot;);
		setTimeout(function(){
			console.log(&quot;Pilot 1: Ah, view is much better here!&quot;)
			s.signal(); // releasing resource (airstrip)
		}, parseInt(Math.random()*1500)+1);
	});
}, parseInt(Math.random()*1500)+1);
setTimeout(function(){ // airplane (consumer) 2
	s.wait() // allocating the resource (airstrip)
	.then(function(){ // resource is available, consuming resource
		console.log(&quot;Pilot 2: Great we are ready to departure, no one on the airstrip!&quot;);
		setTimeout(function(){
			console.log(&quot;Pilot 2: Dear passangers, enjoy our flight!&quot;)
			s.signal(); // releasing resource (airstrip)
		}, parseInt(Math.random()*2000)+1);
	});
}, parseInt(Math.random()*1500)+1);

// For more examples, please check unit tests at @see qpp.SemaphoresHash</pre>


    
</dd>

    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<hr>
<dt class="name" id="debug">
    <h4><span class="type-signature"></span>#debug<span class="type-signature"> :boolean</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>defines if debugging messages should be shown during SemaphoresHash operations</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">boolean</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-460">line 460</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="semaphores">
    <h4><span class="type-signature"></span>#semaphores<span class="type-signature"> :Array.&lt;string, QPP.Semaphore></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>array hash of semaphores</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array.&lt;string, QPP.Semaphore></span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-448">line 448</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="create"><span class="type-signature"></span>create()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>create named semaphore in SemaphoresHash</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-467">line 467</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>returns newly created semaphore</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">QPP.Semaphore</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="signal"><span class="type-signature"></span>signal()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>release resources in the named of the SemaphoresHash</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-499">line 499</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="wait"><span class="type-signature"></span>wait()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>waits on SemaphoresHash</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html">/Users/sasha/Documents/data/development/nodejs/libs/qpp/index.js</a>,
				 <a href="-_Users_sasha_Documents_data_development_nodejs_libs_qpp_index.js.html#sunlight-1-line-482">line 482</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>promise that will get resolved after the named semaphore in the SemaphoresHash is available.
The only possibility for promise to get rejected is when SemaphoresHash gets destroyed
In that case it will get rejected with an @see <code>Error</code>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>

	This work is contribution to nodejs open source community


	<span class="copyright">
	The MIT License (MIT)<br/>
Copyright (c) 2015 Sasha Rudan
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on Saturday, January 2nd 2016
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>